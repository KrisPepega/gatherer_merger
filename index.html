<!DOCTYPE html>
<html>
<head>
    <title>Gatherer merger</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Gatherer merger</h1>
    
    <input type="file" id="file1" accept=".lua">
    <input type="file" id="file2" accept=".lua">
    <button onclick="uploadFiles()">Upload Files</button>

    <div class="grid_container">
        <div id="result1">
            <h2>File 1 Content</h2>
            <pre id="file1Content"></pre>
        </div>
        
        <div id="result2">
            <h2>File 2 Content</h2>
            <pre id="file2Content"></pre>
        </div>

        <div id="result3">
            <h2>Output Content</h2>
            <pre id="outputContent"></pre>
        </div>
    </div>
    
    <script>
        import '/imports.js'
        let file1content = ''
        let file2content = ''
        let output = ''

        function uploadFiles() {
            const file1 = document.getElementById("file1").files[0]
            const file2 = document.getElementById("file2").files[0]
        
            if (!file1 || !file2) {
                alert("Please select both files.")
                return
            }
        
            file1.text().then((PromiseResult) => {
                file1content = PromiseResult
                document.getElementById("file1Content").textContent = file1content
                file2.text().then((PromiseResult) => {
                    file2content = PromiseResult
                    document.getElementById("file2Content").textContent = file2content
                    merge()
                })
            })
        }

    function merge() {
        console.log(parse(file1content))
    }
    </script>
</body>
</html>